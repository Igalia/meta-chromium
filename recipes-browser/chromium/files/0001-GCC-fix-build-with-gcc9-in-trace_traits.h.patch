From ab828afa880241a6d534ea1d67b01b4a50bf8248 Mon Sep 17 00:00:00 2001
From: Jose Dapena Paz <jose.dapena@lge.com>
Date: Thu, 7 Nov 2019 11:27:40 +0100
Subject: GCC: fix build with gcc9 in trace_traits.h

Bug: 819294
Change-Id: If02c61de2398ace252ec0a68e537a9c1b488d9a9
---
 .../blink/renderer/platform/heap/trace_traits.h        | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

diff --git a/third_party/blink/renderer/platform/heap/trace_traits.h b/third_party/blink/renderer/platform/heap/trace_traits.h
index a83a85152e54..4de9ea5e3566 100644
--- a/third_party/blink/renderer/platform/heap/trace_traits.h
+++ b/third_party/blink/renderer/platform/heap/trace_traits.h
@@ -229,11 +229,17 @@ struct TraceTrait<HeapHashTableBacking<Table>> {
   static constexpr bool kCanTraceMultipleObjects = true;
 
   static TraceDescriptor GetTraceDescriptor(void* self) {
-    return {self, TraceTrait<Backing>::Trace<WTF::kNoWeakHandling>};
+    TraceDescriptor result;
+    result.base_object_payload = self;
+    result.callback = TraceTrait<Backing>::Trace<WTF::kNoWeakHandling>;
+    return result;
   }
 
   static TraceDescriptor GetWeakTraceDescriptor(void* self) {
-    return {self, TraceTrait<Backing>::Trace<WTF::kWeakHandling>};
+    TraceDescriptor result;
+    result.base_object_payload = self;
+    result.callback = TraceTrait<Backing>::Trace<WTF::kWeakHandling>;
+    return result;
   }
 
   template <WTF::WeakHandlingFlag WeakHandling = WTF::kNoWeakHandling,
-- 
2.20.1

