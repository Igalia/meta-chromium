From caf1364e60a8a6819bfa954f7f83a10fa4d3861e Mon Sep 17 00:00:00 2001
From: Jose Dapena Paz <jdapena@igalia.com>
Date: Mon, 4 Mar 2024 15:12:53 +0100
Subject: GCC: only build unsafe_buffers_unittest.cc in Clang

Bug: 40565911
Change-Id: Iaec33818fe3ac224f5d2ee2472d45578ff772720
---
 base/BUILD.gn | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/base/BUILD.gn b/base/BUILD.gn
index 7317f2b202377..09278f042ab43 100644
--- a/base/BUILD.gn
+++ b/base/BUILD.gn
@@ -3533,6 +3533,10 @@ test("base_unittests") {
     ]
   }
 
+  if (is_clang) {
+    sources += [ "unsafe_buffers_unittest.cc" ]
+  }
+
   if (use_safe_libcxx) {
     sources += [ "libcpp_hardening_test.cc" ]
   }
-- 
2.40.1

